{
    "ConfigVersion": "0.0.1",
    "ConfigName": "EthernetDemoNetSim",
    "Description": "Sample configuration for Ethernet with NetworkSimulator",

    "SimulationSetup": {

        "Participants": [
            {
                "Name": "EthernetWriter",
                "Description": "Demo Writer",

                "Logger": {
                    "FlushLevel": "Warn",
                    "Sinks": [
                        {
                            "Type": "Remote",
                            "Level": "Trace"
                        }
                    ]
                },

                "IsSyncMaster": true,
                "ParticipantController": {
                    "SyncType": "DiscreteTime"
                },
                "EthernetControllers": [
                    {
                        "Name": "ETH0",
                        "MacAddr": "F6:04:68:71:AA:C1"
                    }
                ]
            },
            {
                "Name": "EthernetReader",
                "Description": "Demo Reader",

                "Logger": {
                    "FlushLevel": "Warn",
                    "Sinks": [
                        {
                            "Type": "Remote",
                            "Level": "Trace"
                        }
                    ]
                },

                "ParticipantController": {
                    "SyncType": "DiscreteTime"
                },
                "EthernetControllers": [
                    {
                        "Name": "ETH0",
                        "MacAddr": "F6:04:68:71:AA:C2",
                        "PcapFile": "EthernetReaderTrace.pcap",
                        "PcapPipe": "ethernet_reader_pipe"
                    }
                ]
            },
            {
                "Name": "NetworkSimulator",

                "ParticipantController": {
                    "SyncType": "DiscreteTime"
                },
                "NetworkSimulators": [ "Ethernet-Simulator" ]
            },
            {
                "Name": "SystemController",

                "Logger": {
                    "FlushLevel": "Warn",
                    "Sinks": [
                        {
                            "Type": "Remote"
                        }
                    ]
                }
            },
            {
                "Name": "SystemMonitor",
                "Description": "Passive SystemMonitor that can be optionally attached. Does not participate in synchronization.",

                "Logger": {
                    "LogFromRemotes": true,
                    "FlushLevel": "Info",
                    "Sinks": [
                        {
                            "Type": "Stdout"
                        }
                    ]
                }
            }
        ],

        "Switches": [
            {
                "Name": "FrontSwitch",
                "Description":  "Located somewhere in the Milky Way",
                "Ports": [
                    {
                        "Name": "Port0",
                        "VlanIds":  [1]
                    },
                    {
                        "Name": "Port1",
                        "VlanIds":  [1]
                    }
                ]
            }
        ],

        "Links": [
            {
                "Name": "FS-Port0",
                "Endpoints": [ "FrontSwitch/Port0", "EthernetWriter/ETH0" ]
            },
            {
                "Name": "FS-Port1",
                "Endpoints": [ "FrontSwitch/Port1", "EthernetReader/ETH0" ]
            }
        ],

        "NetworkSimulators": [
            {
                "Name": "Ethernet-Simulator",
                "SimulatedLinks": [
                    "FS-Port0",
                    "FS-Port1"
                ],
                "SimulatedSwitches": [
                    "FrontSwitch"
                ]
            }
        ],

        "TimeSync": {
            "TickPeriodNs": 1000000
        }

    },

    "MiddlewareConfig": {
        "ActiveMiddleware": "VAsio"
    },

    "LaunchConfigurations": [
        {
            "Name": "Installation",
            "ParticipantEnvironments": [
                {
                    "Participant": "EthernetWriter",
                    "Environment": "CustomExecutable", 
                    "WorkingFolder": ".",
                    "Executable": "%INTEGRATIONBUS_BINPATH%IbDemoEthernet",
                    "Arguments": "%INTEGRATIONBUS_CONFIGFILE% EthernetWriter %INTEGRATIONBUS_DOMAINID%"
                },
                {
                    "Participant": "EthernetReader",
                    "Environment": "CustomExecutable", 
                    "WorkingFolder": ".",
                    "Executable": "%INTEGRATIONBUS_BINPATH%IbDemoEthernet",
                    "Arguments": "%INTEGRATIONBUS_CONFIGFILE% EthernetReader %INTEGRATIONBUS_DOMAINID%"
                },
                {
                    "Participant": "SystemMonitor",
                    "Environment": "CustomExecutable",
                    "WorkingFolder": ".",
                    "Executable": "%INTEGRATIONBUS_BINPATH%IbDemoPassiveSystemMonitor",
                    "Arguments": "%INTEGRATIONBUS_CONFIGFILE% %INTEGRATIONBUS_DOMAINID%"
                },
                {
                    "Participant": "SystemController",
                    "Environment": "CustomExecutable",
                    "WorkingFolder": ".",
                    "Executable": "%INTEGRATIONBUS_BINPATH%IbDemoSystemController",
                    "Arguments": "%INTEGRATIONBUS_CONFIGFILE% %INTEGRATIONBUS_DOMAINID%"
                }
            ]
        }
    ]

}
