<?xml version="1.0" encoding="UTF-8" ?>
<!-- Test objective: By enabling ASYNCHRONOUS_PUBLISH_MODE on publishers and subscribers, sending of message payloads > 65416 bytes is possible. -->
<profiles>
   <participant profile_name="Publisher">
      <rtps>
         <name>Publisher</name>
         <defaultSendPort>10042</defaultSendPort>
         <builtin>
            <domainId>42</domainId>
            <leaseDuration>INFINITE</leaseDuration>
            <EDP>SIMPLE</EDP>
            <simpleEDP>
               <PUBWRITER_SUBREADER>true</PUBWRITER_SUBREADER>
               <PUBREADER_SUBWRITER>true</PUBREADER_SUBWRITER>
            </simpleEDP>
            <use_SIMPLE_RTPS_PDP>true</use_SIMPLE_RTPS_PDP>
         </builtin>
      </rtps>
   </participant>
   <publisher profile_name="Publisher-GenericMessage-LargeDataBlobTopic">
      <topic>
         <kind>WITH_KEY</kind>
         <dataType>ib::sim::generic::idl::GenericMessage</dataType>
         <name>LargeDataBlobTopic</name>
         <historyQos>
            <kind>KEEP_LAST</kind><!-- KEEP_LAST_HISTORY_QOS -->
            <depth>10</depth>
         </historyQos>
         <resourceLimitsQos>
            <max_instances>5</max_instances>
            <max_samples_per_instance>10</max_samples_per_instance>
            <max_samples>50</max_samples>
            <allocated_samples>20</allocated_samples>
         </resourceLimitsQos>
      </topic>
      <times>
        <heartbeatPeriod>
          <durationbyval>
            <seconds>2</seconds>
            <fraction>200000000</fraction> <!-- 200 * 1000 * 1000 -->
          </durationbyval>
        </heartbeatPeriod>
      </times>
      <historyMemoryPolicy>PREALLOCATED_WITH_REALLOC</historyMemoryPolicy> <!-- PREALLOCATED_WITH_REALLOC_MEMORY_MODE -->
      <qos>
         <durability>
            <kind>TRANSIENT_LOCAL</kind> <!-- TRANSIENT_LOCAL_DURABILITY_QOS -->
         </durability>
         <reliability>
            <kind>RELIABLE</kind> <!-- RELIABLE_RELIABILITY_QOS -->
         </reliability>
<!-- BEGIN: DIFFERENCE TO DEFAULT RUNTIME CONFIGURATION -->
         <publishMode>
            <kind>ASYNCHRONOUS</kind> <!-- ASYNCHRONOUS_PUBLISH_MODE -->
         </publishMode>
<!-- END: DIFFERENCE TO DEFAULT RUNTIME CONFIGURATION -->
      </qos>
   </publisher>   
   <publisher profile_name="Publisher-LogMsg-default">
      <topic>
         <dataType>ib::mw::logging::idl::LogMsg</dataType>
         <name>default</name>
      </topic>
   </publisher>   
   <subscriber profile_name="Publisher-LogMsg-default">
      <topic>
         <dataType>ib::mw::logging::idl::LogMsg</dataType>
         <name>default</name>
      </topic>
   </subscriber>   
   
   <participant profile_name="Subscriber">
      <rtps>
         <name>Subscriber</name>
         <defaultSendPort>10042</defaultSendPort>
         <builtin>
            <domainId>42</domainId>
            <leaseDuration>INFINITE</leaseDuration>
            <EDP>SIMPLE</EDP>
            <simpleEDP>
               <PUBWRITER_SUBREADER>true</PUBWRITER_SUBREADER>
               <PUBREADER_SUBWRITER>true</PUBREADER_SUBWRITER>
            </simpleEDP>
            <use_SIMPLE_RTPS_PDP>true</use_SIMPLE_RTPS_PDP>
         </builtin>
      </rtps>
   </participant>
   <subscriber profile_name="Subscriber-GenericMessage-LargeDataBlobTopic">
      <topic>
         <kind>WITH_KEY</kind>
         <dataType>ib::sim::generic::idl::GenericMessage</dataType>
         <name>LargeDataBlobTopic</name>
         <historyQos>
            <kind>KEEP_LAST</kind><!-- KEEP_LAST_HISTORY_QOS -->
            <depth>10</depth>
         </historyQos>
         <resourceLimitsQos>
            <max_instances>5</max_instances>
            <max_samples_per_instance>10</max_samples_per_instance>
            <max_samples>50</max_samples>
            <allocated_samples>20</allocated_samples>
         </resourceLimitsQos>
      </topic>
      <historyMemoryPolicy>PREALLOCATED_WITH_REALLOC</historyMemoryPolicy> <!-- PREALLOCATED_WITH_REALLOC_MEMORY_MODE -->
      <qos>
         <durability>
            <kind>TRANSIENT_LOCAL</kind> <!-- TRANSIENT_LOCAL_DURABILITY_QOS -->
         </durability>
         <reliability>
            <kind>RELIABLE</kind> <!-- RELIABLE_RELIABILITY_QOS -->
         </reliability>
      </qos>
   </subscriber>   
   <subscriber profile_name="Subscriber-LogMsg-default">
      <topic>
         <dataType>ib::mw::logging::idl::LogMsg</dataType>
         <name>default</name>
      </topic>
   </subscriber>   
   <publisher profile_name="Subscriber-LogMsg-default">
      <topic>
         <dataType>ib::mw::logging::idl::LogMsg</dataType>
         <name>default</name>
      </topic>
   </publisher>   

   <!--participant profile_name="ExecutionControllerDt">
      <rtps>
         <name>ExecutionControllerDt</name>
         <defaultSendPort>10042</defaultSendPort>
         <builtin>
            <domainId>42</domainId>
            <leaseDuration>INFINITE</leaseDuration>
            <EDP>SIMPLE</EDP>
            <simpleEDP>
               <PUBWRITER_SUBREADER>true</PUBWRITER_SUBREADER>
               <PUBREADER_SUBWRITER>true</PUBREADER_SUBWRITER>
            </simpleEDP>
            <use_SIMPLE_RTPS_PDP>true</use_SIMPLE_RTPS_PDP>
         </builtin>
      </rtps>
   </participant-->
</profiles>
