{
  "$id": "http://vector.com/#",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "JSON schema for IntegrationBus VAsio middleware",
  "type": "object",

  "definitions": {

    "Description": {
      "type": "string",
      "title": "Free text commenting on or summarizing this configuration. Optional",
      "default": ""
    },

    "Logging": {
      "type": "object",
      "properties": {
        "LogFromRemotes": {
          "type": "boolean",
          "title": "Receive remote log messages from other participants"
        },
        "FlushLevel": {
          "type": "string",
          "enum": [
            "Critical",
            "Error",
            "Warn",
            "Info",
            "Debug",
            "Trace",
            "Off"
          ]
        },
        "Sinks": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "Type": {
                "type": "string",
                "enum": [
                  "Remote",
                  "File",
                  "Stdout"
                ]
              },
              "Level": {
                "type": "string",
                "enum": [
                  "Critical",
                  "Error",
                  "Warn",
                  "Info",
                  "Debug",
                  "Trace",
                  "Off"
                ],
                "default": "Info"
              },
              "LogName": {
                "type": "string",
                "title": "Log name; Results in the following filename: <LogName>_%y-%m-%dT%h-%m-%s.txt"
              }
            },
            "additionalProperties": false,
            "required": [
              "Type"
            ]
          }
        }
      },
      "additionalProperties": false,
      "required": [
        "Sinks"
      ]
    }

  },
  "properties": {

    "Description": {
      "$ref": "#/definitions/Description"
    },

    "Registry": {
      "type": "object",
      "title": "The registry used for the VAsio middleware.",
      "properties": {
        "HostName": {
          "type": "string",
          "default": "localhost"
        },
        "Port": {
          "type": "integer",
          "default": "8500"
        },
        "Logging": { "$ref": "#/definitions/Logging" },
        "ConnectAttempts": {
          "type": "integer",
          "default": "1"
        }
      },
      "additionalProperties": false
    },

    "TcpNoDelay": {
      "type": "boolean",
      "default": "true"
    },

    "TcpQuickAck": {
      "type": "boolean",
      "default": "false"
    },

    "TcpSendBufferSize": {
      "type": "integer"
    },

    "TcpReceiveBufferSize": {
      "type": "integer"
    }

  },
  "additionalProperties": false
}
